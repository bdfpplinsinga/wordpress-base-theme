{# >>> Comp Defaults #}
{% set compDefaults = {
  data: {
    name: blockname,
	text: copy,
	button: button,
  },
  classes: {
    root: classes,
    custom: '',
  },
} %}

{# >>> Merge data / classes / variants (optional) #}
{% set props = {
  data: data is defined and data is iterable ? compDefaults.data | merge(data) : compDefaults.data,
  classes: classes is defined and classes is iterable ? compDefaults.classes | merge(classes) : compDefaults.classes,
} %}

{% if props.data ?? null %}
	<div data-block-id="{{ props.data.name }}" class="block {{ props.classes.root }} {{ props.classes.custom }}">

		{{ include('components/text/text.twig', {
				data: {
					text: props.data.text ?? null,
				},
				classes: {
					custom: 'prose max-w-none'
				}
   			}, withContext = false) }}

		{% if props.data.button %}
			{{include('components/buttons/button.twig', {
				data: {
					variant: props.data.button.style,
					text: props.data.button.link.title,
					url: props.data.button.link.url,
					target: props.data.button.link.target
				},
				classes: {
					custom: 'mt-4'
				}
			}, withContext = false)}}
		{% endif %}
	</div>
{% endif %}
